'use strict';

(function () {
  var info = document.querySelector('p:nth-child(1)');
  var data = document.querySelector('p:nth-child(2)');
  var opts = {
    tag: 'First',
    lang: 'en-US',
    dir: 'ltr',
    body: 'Hello World',
    data: 'This is data',
    icon: 'img/icon.png',
    silent: false
  };

  info.innerHTML = '...';
  data.innerHTML = '';

  if (Notification.permision === 'granted') {
    var n = new Notification('Web Notifications API', opts);
    setTimeout(n.close.bind(n), 5000);

    info.innerHTML = 'Permission Granted';
    data.innerHTML = n.data;
  } else if (Notification.permission === 'denied') {
    info.innerHTML = 'Permission Denied';
  } else {
    Notification.requestPermission(function (result) {
      if (result === 'granted') {
        var n = new Notification('Web Notifications API', opts);
        setTimeout(n.close.bind(n), 5000);

        info.innerHTML = 'Permission Granted';
        data.innerHTML = n.data;
      } else if (result === 'denied') {
        info.innerHTML = 'Permission Denied';
        data.innerHTML = '';
      }
    });
  }
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYi1ub3RpZmljYXRpb25zLWFwaS9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBQyxZQUFXO0FBQ1YsTUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3BELE1BQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUNwRCxNQUFJLElBQUksR0FBRztBQUNULE9BQUcsRUFBRSxPQUFPO0FBQ1osUUFBSSxFQUFFLE9BQU87QUFDYixPQUFHLEVBQUUsS0FBSztBQUNWLFFBQUksRUFBRSxhQUFhO0FBQ25CLFFBQUksRUFBRSxjQUFjO0FBQ3BCLFFBQUksRUFBRSxjQUFjO0FBQ3BCLFVBQU0sRUFBRSxLQUFLO0dBQ2QsQ0FBQzs7QUFFRixNQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztBQUN2QixNQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQzs7QUFFcEIsTUFBSSxZQUFZLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRTtBQUN4QyxRQUFJLENBQUMsR0FBRyxJQUFJLFlBQVksQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN4RCxjQUFVLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7O0FBRWxDLFFBQUksQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUM7QUFDdEMsUUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO0dBQ3pCLE1BQU0sSUFBSSxZQUFZLENBQUMsVUFBVSxLQUFLLFFBQVEsRUFBRTtBQUMvQyxRQUFJLENBQUMsU0FBUyxHQUFHLG1CQUFtQixDQUFDO0dBQ3RDLE1BQU07QUFDTCxnQkFBWSxDQUFDLGlCQUFpQixDQUFDLFVBQVMsTUFBTSxFQUFFO0FBQzlDLFVBQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtBQUN4QixZQUFJLENBQUMsR0FBRyxJQUFJLFlBQVksQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN4RCxrQkFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUVsQyxZQUFJLENBQUMsU0FBUyxHQUFHLG9CQUFvQixDQUFDO0FBQ3RDLFlBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztPQUN6QixNQUFNLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRTtBQUM5QixZQUFJLENBQUMsU0FBUyxHQUFHLG1CQUFtQixDQUFDO0FBQ3JDLFlBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO09BQ3JCO0tBQ0YsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFBLEVBQUcsQ0FBQyIsImZpbGUiOiJ3ZWItbm90aWZpY2F0aW9ucy1hcGkvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgdmFyIGluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdwOm50aC1jaGlsZCgxKScpO1xuICB2YXIgZGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3A6bnRoLWNoaWxkKDIpJyk7XG4gIHZhciBvcHRzID0ge1xuICAgIHRhZzogJ0ZpcnN0JyxcbiAgICBsYW5nOiAnZW4tVVMnLFxuICAgIGRpcjogJ2x0cicsXG4gICAgYm9keTogJ0hlbGxvIFdvcmxkJyxcbiAgICBkYXRhOiAnVGhpcyBpcyBkYXRhJyxcbiAgICBpY29uOiAnaW1nL2ljb24ucG5nJyxcbiAgICBzaWxlbnQ6IGZhbHNlXG4gIH07XG5cbiAgaW5mby5pbm5lckhUTUwgPSAnLi4uJztcbiAgZGF0YS5pbm5lckhUTUwgPSAnJztcblxuICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgdmFyIG4gPSBuZXcgTm90aWZpY2F0aW9uKCdXZWIgTm90aWZpY2F0aW9ucyBBUEknLCBvcHRzKTtcbiAgICBzZXRUaW1lb3V0KG4uY2xvc2UuYmluZChuKSwgNTAwMCk7XG5cbiAgICBpbmZvLmlubmVySFRNTCA9ICdQZXJtaXNzaW9uIEdyYW50ZWQnO1xuICAgIGRhdGEuaW5uZXJIVE1MID0gbi5kYXRhO1xuICB9IGVsc2UgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVuaWVkJykge1xuICAgIGluZm8uaW5uZXJIVE1MID0gJ1Blcm1pc3Npb24gRGVuaWVkJztcbiAgfSBlbHNlIHtcbiAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0ID09PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgdmFyIG4gPSBuZXcgTm90aWZpY2F0aW9uKCdXZWIgTm90aWZpY2F0aW9ucyBBUEknLCBvcHRzKTtcbiAgICAgICAgc2V0VGltZW91dChuLmNsb3NlLmJpbmQobiksIDUwMDApO1xuXG4gICAgICAgIGluZm8uaW5uZXJIVE1MID0gJ1Blcm1pc3Npb24gR3JhbnRlZCc7XG4gICAgICAgIGRhdGEuaW5uZXJIVE1MID0gbi5kYXRhO1xuICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT09ICdkZW5pZWQnKSB7XG4gICAgICAgIGluZm8uaW5uZXJIVE1MID0gJ1Blcm1pc3Npb24gRGVuaWVkJztcbiAgICAgICAgZGF0YS5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
